(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{305:function(e,a,t){e.exports=t.p+"static/media/404_alt.117d2115.png"},312:function(e,a,t){e.exports=t(419)},419:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(18),o=t.n(c),i=t(433),l=t(232),s=t(60),u=t(205),m=t(233),d=t(229);function p(){return r.a.createElement(s.a,{variant:"body2"},"Feito como meio de aprendizagem de React. ",r.a.createElement(d.a,{color:"inherit",href:"https://github.com/ImInYourPie"},"Github"))}var f=Object(u.a)(function(e){return{root:{display:"flex",flexDirection:"column",height:"100vh"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},footer:{padding:e.spacing(2),marginTop:"auto",color:"white",background:"linear-gradient(to left top, #03FFE1, #0B98FF)"}}});function E(){var e=f();return r.a.createElement("div",{className:e.root},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(l.a,null),r.a.createElement("footer",{className:e.footer},r.a.createElement(m.a,{maxWidth:"sm"},r.a.createElement(s.a,{variant:"body1"},"Hydradev"),r.a.createElement(p,null))))}var g=t(12),b=t(56),h=t(10),y=t(246),v=t(247),O=t(211),D=t(244),j=t(145),S=t(293),_=t.n(S),C=t(294),k=t.n(C),R=t(248),T=t(33),N=t(15),w=t(21),x=t.n(w),A=function(e,a){return function(t){t({type:"LOADING_UI"}),x.a.post("/login",{username:e.username,password:e.password}).then(function(e){U(e.data.token),console.log(e.data.user),t({type:"SET_USER",payload:e.data.user});var a=JSON.stringify(e.data.user);localStorage.setItem("user",a),t({type:"STOP_LOADING_UI"})}).then(function(){return a.push("/cards")}).catch(function(e){t({type:"SET_ERRORS",payload:e.response.data}),t({type:"STOP_LOADING_UI"})})}},I=function(e){return function(a){localStorage.removeItem("token"),localStorage.removeItem("user"),delete x.a.defaults.headers.common.Authorization,a({type:"SET_UNAUTHENTICATED"}),a({type:"CLEAR_ERRORS"}),e.push("/login")}},U=function(e){var a="Bearer ".concat(e);localStorage.setItem("token",a),x.a.defaults.headers.common.Authorization=a},L=t(76),P=Object(u.a)(function(e){return{grow:{flexGrow:1},appbar:{backgroundColor:e.palette.mainGradient},menuButton:{marginRight:e.spacing(2)},title:Object(b.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(h.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(h.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(b.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(b.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}),F={logoutUser:I},W=Object(N.b)(function(e){return{authenticated:e.user.authenticated,user:e.user.user}},F)(Object(L.g)(function(e){var a=e.authenticated,t=e.user,n=e.logoutUser,c=e.history,o=P(),i=r.a.useState(null),l=Object(g.a)(i,2),u=(l[0],l[1],r.a.useState(null)),m=Object(g.a)(u,2),d=m[0],p=m[1],f=Boolean(d);function E(){p(null)}var b=function(){n(c)},h=r.a.createElement(j.a,{anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:E},!a&&r.a.createElement(D.a,{component:T.b,to:"/login"},"Login"),!a&&r.a.createElement(D.a,{component:T.b,to:"/register"},"Register"),"admin"===t.userType&&r.a.createElement(D.a,{component:T.b,to:"/admin"},"Admin Panel"),a&&r.a.createElement(D.a,{component:T.b,to:"/cards"},"My Cards"),a&&r.a.createElement(D.a,{component:T.b,to:"/decks"},"My Decks"),a&&r.a.createElement(D.a,null,"Ol\xe1 ",t.username),a&&r.a.createElement(D.a,{onClick:b},"Logout"));return r.a.createElement("div",{className:o.grow},r.a.createElement(y.a,{position:"static",className:o.appbar,style:{background:"linear-gradient(to right bottom, #03FFE1, #0B98FF)"}},r.a.createElement(v.a,null,r.a.createElement(s.a,{className:o.title,variant:"h6",noWrap:!0},"React to Magic"),r.a.createElement("div",{className:o.grow}),r.a.createElement("div",{className:o.sectionDesktop},"admin"===t.userType&&r.a.createElement(R.a,{component:T.b,to:"/admin",color:"inherit"},"Admin Panel"),a&&r.a.createElement(R.a,{component:T.b,to:"/cards",color:"inherit"},"My Cards"),a&&r.a.createElement(R.a,{component:T.b,to:"/decks",color:"inherit"},"My Decks"),a&&r.a.createElement(R.a,{color:"inherit"},r.a.createElement(_.a,null)," ",t.username),a&&r.a.createElement(R.a,{onClick:b,color:"inherit"},"Logout"),!a&&r.a.createElement(R.a,{component:T.b,to:"/login",color:"inherit"},"Login"),!a&&r.a.createElement(R.a,{component:T.b,to:"/register",color:"inherit"},"Register")),r.a.createElement("div",{className:o.sectionMobile},r.a.createElement(O.a,{"aria-label":"Show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},color:"inherit"},r.a.createElement(k.a,null))))),h)})),G=t(147),M=Object(G.a)({typography:{useNextVariants:!0},palette:{primary:{light:"#63ccff",main:"#0B98FF",mainGradient:"linear-gradient(to right, tomato, cyan)",dark:"#0B98FF",error:"#ff0000",contrastText:"#fff"}}}),B=t(174),K=t(260),z=t(263),q=t(262),Y=t(261),H=function(){return function(e){e({type:"SET_LOADING_CARDS"}),x.a.get("/cards").then(function(a){e({type:"GET_CARDS",payload:a.data})}).catch(function(a){e({type:"SET_CARDS_ERRORS",payload:a.response.data.error})})}},V=function(e){return function(a){x.a.delete("/cards/delete/".concat(e)).then(function(){console.log(e),a({type:"DELETE_CARD",payload:e}),a({type:"CLEAR_ERRORS"})}).catch(function(e){a({type:"SET_ERRORS",payload:e.response.data})})}},J=function(e){return function(a){a({type:"SET_LOADING_CARDS"}),x.a.put("/cards/update/".concat(e._id),{mana:e.mana,name:e.name,description:e.description}).then(function(){a({type:"UPDATE_CARD",payload:e}),a({type:"CLEAR_ERRORS"})}).catch(function(e){a({type:"SET_ERRORS",payload:e.response.data})})}},X=t(34),$=t.n(X),Q=t(47),Z=t(252),ee=t(249),ae=t(253),te=t(251),ne=t(250);function re(e){var a=r.a.useState(e.card.mana),t=Object(g.a)(a,2),n=t[0],c=t[1],o=r.a.useState(e.card.name),i=Object(g.a)(o,2),l=i[0],s=i[1],u=r.a.useState(e.card.description),m=Object(g.a)(u,2),d=m[0],p=m[1],f=Object(N.c)();function E(){c(e.card.mana),s(e.card.name),p(e.card.description),e.closeDialog()}r.a.useEffect(function(){c(e.card.mana),s(e.card.name),p(e.card.description)},[e]);var b=function(){var a=Object(Q.a)($.a.mark(function a(t){var r;return $.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e.card._id),t.preventDefault(),r={_id:e.card._id,mana:n,name:l,description:d},a.next=5,f(e.updateCard(r));case 5:e.closeDialog();case 6:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(ee.a,{open:e.open,onClose:E,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Edit ",e.editType),r.a.createElement(te.a,null,r.a.createElement(Z.a,{autoFocus:!0,id:"standard-number",label:"Mana",InputProps:{inputProps:{min:1,max:9}},value:n,onChange:function(e){return c(e.target.value)},type:"number",fullWidth:!0,variant:"outlined",required:!0,InputLabelProps:{shrink:!0},margin:"dense"}),r.a.createElement(Z.a,{variant:"outlined",value:l,margin:"dense",id:"name",label:"Name",type:"text",onChange:function(e){return s(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0}),r.a.createElement(Z.a,{variant:"outlined",value:d,margin:"dense",id:"name",label:"Description",type:"text",onChange:function(e){return p(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0})),r.a.createElement(ae.a,null,r.a.createElement(R.a,{onClick:function(e){return b(e)},color:"primary"},"Update"),r.a.createElement(R.a,{onClick:E,color:"primary"},"Cancel"))))}var ce=t(259),oe=t(254),ie=t(70),le=r.a.forwardRef(function(e,a){return r.a.createElement(oe.a,Object.assign({direction:"up",ref:a},e))});function se(e){var a=Object(N.c)(),t=Object(ie.useSnackbar)().enqueueSnackbar;function n(){e.closeDialog()}return r.a.createElement("div",null,r.a.createElement(ee.a,{open:e.open,TransitionComponent:le,onClose:n,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(ne.a,{id:"alert-dialog-slide-title"},"Attention!"),r.a.createElement(te.a,null,r.a.createElement(ce.a,{id:"alert-dialog-slide-description"},"Are you sure you want to delete ",e.name,"?")),r.a.createElement(ae.a,null,r.a.createElement(R.a,{onClick:function(n){return function(n){n.preventDefault(),a(e.delete(e.item._id)),t("Deleted ".concat(e.name),{variant:"info"}),e.closeDialog()}(n)},color:"primary"},"Yes"),r.a.createElement(R.a,{onClick:n,color:"primary"},"No"))))}var ue=Object(u.a)({card:{height:"100%"},media:{height:150,backgroundPosition:"top"},desc:{minHeight:80},title:{minHeight:40}});var me={deleteCard:V},de=Object(N.b)(null,me)(function(e){var a=ue(),t=r.a.useState(!1),n=Object(g.a)(t,2),c=n[0],o=n[1],i=r.a.useState(!1),l=Object(g.a)(i,2),u=l[0],m=l[1];return r.a.createElement("div",null,r.a.createElement(K.a,{className:a.card},r.a.createElement(Y.a,{className:a.media,image:e.image,title:e.name}),r.a.createElement(q.a,null,r.a.createElement(s.a,{className:a.title,gutterBottom:!0,variant:"body2",component:"h4"},e.name),r.a.createElement(s.a,{variant:"body2",color:"textSecondary",className:a.desc,component:"p"},e.description),r.a.createElement(s.a,{variant:"body2",color:"textSecondary",component:"p"},"Mana: ",e.mana)),r.a.createElement(z.a,null,r.a.createElement(R.a,{size:"small",color:"primary",onClick:function(e){e.preventDefault(),o(!0)}},"Edit"),r.a.createElement(R.a,{size:"small",color:"primary",onClick:function(a){console.log(e),a.preventDefault(),m(!0)}},"Delete"))),r.a.createElement(re,{open:c,closeDialog:function(){o(!1)},card:e,updateCard:J,editType:"Card"}),r.a.createElement(se,{open:u,closeDialog:function(){m(!1)},delete:V,item:e,name:e.name}))}),pe=t(264),fe=t(265),Ee=Object(u.a)(function(e){return{progress:{margin:e.spacing(2)}}}),ge=Object(L.g)(function(e){var a=Ee,t="";if(e.router.location.search){var n=e.router.location.search;t=new URLSearchParams(n).get("search")}var c=Object(N.d)(function(e){return e.cards.loading}),o=r.a.useState(t),i=Object(g.a)(o,2),l=i[0],u=i[1],m=Object(N.d)(function(e){return e.cards.items.filter(function(e){return e.name.toLowerCase().includes(l.toLowerCase())})}),d=Object(N.c)();return r.a.useEffect(function(){d(H())},[]),r.a.useEffect(function(){""===l?e.history.push("/cards"):e.history.push("/cards?search=".concat(l))},[l]),r.a.createElement(pe.a,{container:!0,alignItems:"center",direction:"row",spacing:2},r.a.createElement(pe.a,{item:!0,md:2,xs:4},r.a.createElement(s.a,{variant:"h5"},"My Cards")),r.a.createElement(pe.a,{item:!0,md:10,xs:8},r.a.createElement("form",null,r.a.createElement(Z.a,{id:"standard-name",label:"Search",fullWidth:!0,variant:"outlined",value:l,onChange:function(e){return u(e.target.value)},className:a.textField,margin:"dense"}))),c&&!m.length&&r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(fe.a,null)),!!m.length&&m.map(function(e){return r.a.createElement(pe.a,{key:e._id,item:!0,md:3,xs:6},r.a.createElement(de,e))}),!m.length&&!c&&!l.length&&r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(s.a,{align:"center",variant:"h5"},"You have no cards in your collection. Add one!")),!m.length&&!c&&!!l.length&&r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(s.a,{align:"center",variant:"h5"},"No cards were found")))}),be=t(16),he=t(160),ye=t.n(he),ve=Object(u.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),color:"red"},rightIcon:{marginLeft:e.spacing(1)},button:{background:"linear-gradient(to right bottom, #03FFE1, #0B98FF)",color:"white"}}});var Oe=Object(N.b)(null,{addCard:function(e){return function(a){a({type:"SET_LOADING_CARDS"}),x.a.post("/cards/post",{mana:e.mana,name:e.name,description:e.description}).then(function(e){a({type:"ADD_CARD",payload:e.data.card})}).catch(function(e){a({type:"SET_CARDS_ERRORS",payload:e.response.data.error})})}}})(function(e){var a=ve(),t=Object(ie.useSnackbar)().enqueueSnackbar,n=r.a.useState({mana:1,name:"",description:""}),c=Object(g.a)(n,2),o=c[0],i=c[1],l=r.a.useState(!1),s=Object(g.a)(l,2),u=s[0],m=s[1],d=r.a.useState(!1),p=Object(g.a)(d,2),f=p[0],E=p[1],h=function(e){return function(a){i(Object(be.a)({},o,Object(b.a)({},e,a.target.value)))}};return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(a){if(a.preventDefault(),""===o.name&&(m(!0),console.log(u)),""===o.description)E(!0);else try{var n={mana:o.mana,name:o.name,description:o.description};e.addCard(n),t("Card ".concat(n.name," added"),{variant:"info"}),i(Object(be.a)({},o,{mana:1,name:"",description:""})),m(!1),E(!1)}catch(r){}},noValidate:!0,autoComplete:"off"},r.a.createElement(pe.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",spacing:1},r.a.createElement(pe.a,{item:!0,xs:2},r.a.createElement(Z.a,{id:"standard-number",label:"Mana",InputProps:{inputProps:{min:1,max:9}},value:o.mana,onChange:h("mana"),type:"number",fullWidth:!0,variant:"outlined",required:!0,InputLabelProps:{shrink:!0},margin:"dense"})),r.a.createElement(pe.a,{item:!0,md:3,xs:10},r.a.createElement(Z.a,{id:"standard-name",label:"Name",fullWidth:!0,variant:"outlined",required:!0,error:u,helperText:u?"You must fill this field":"",value:o.name,onChange:h("name"),margin:"dense"})),r.a.createElement(pe.a,{item:!0,md:4,xs:12},r.a.createElement(Z.a,{id:"standard-name",label:"Description",required:!0,fullWidth:!0,variant:"outlined",error:f,helperText:f?"You must fill this field":"",value:o.description,onChange:h("description"),margin:"dense"})),r.a.createElement(pe.a,{item:!0,md:2,xs:12},r.a.createElement(R.a,{className:a.button,variant:"contained",fullWidth:!0,type:"submit"},"Add Card",r.a.createElement(ye.a,{className:a.rightIcon},"Send"))))),r.a.createElement("br",null))}),De=t(266),je=function(e){return r.a.createElement(pe.a,null,r.a.createElement(Oe,null),r.a.createElement(De.a,null),r.a.createElement("br",null),r.a.createElement(ge,{router:e}))},Se=t(269),_e=t(296),Ce=t.n(_e),ke=t(2),Re=function(e){return function(a){a({type:"SET_LOADING_DECKS"}),x.a.post("/decks/post",{name:e.name,cards:e.cards}).then(function(e){a({type:"ADD_DECK",payload:e.data.deck})}).catch(function(e){return console.log(e.response)})}},Te=function(e){return function(a){x.a.delete("/decks/delete/".concat(e)).then(function(){a({type:"DELETE_DECK",payload:e}),a({type:"CLEAR_ERRORS"})}).catch(function(e){return console.log(e.response)})}},Ne=function(e){return function(a){x.a.put("/decks/update/".concat(e._id),{name:e.name,cards:e.cards}).then(function(){a({type:"UPDATE_DECK",payload:e}),a({type:"CLEAR_ERRORS"})}).catch(function(e){return console.log(e.response)})}},we=t(74),xe=t(268),Ae=t(210),Ie=t(209),Ue=t(295),Le=t.n(Ue),Pe=t(267),Fe=t(287),We=t(85),Ge=t(175),Me=t.n(Ge),Be=Object(u.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},paper:{height:"500"}}}),Ke=r.a.forwardRef(function(e,a){return r.a.createElement(oe.a,Object.assign({direction:"up",ref:a},e))});function ze(e,a){return e.filter(function(e){return-1===a.indexOf(e)})}function qe(e,a){return e.filter(function(e){return-1!==a.indexOf(e)})}var Ye={addDeck:Re},He=Object(N.b)(function(e){return{cards:e.cards.items}},Ye)(function(e){var a=e.cards,t=e.currentName,n=e.open,c=e.closeDialog,o=e.currentCards,i=e.action,l=e._id,u=Be(),m=Object(ie.useSnackbar)().enqueueSnackbar,d=r.a.useState([]),p=Object(g.a)(d,2),f=p[0],E=p[1],b=r.a.useState([]),h=Object(g.a)(b,2),D=h[0],j=h[1],S=r.a.useState([]),_=Object(g.a)(S,2),C=_[0],k=_[1],T=r.a.useState(""),w=Object(g.a)(T,2),x=w[0],A=w[1],I=r.a.useState([]),U=Object(g.a)(I,2),L=U[0],P=U[1],F=qe(f,D),W=qe(f,C),G=Object(N.c)();r.a.useEffect(function(){k(o),j(Me.a.differenceBy(a,o,"_id")),A(t)},[o,t,a]);var M=function(e){return function(){var a=f.indexOf(e),t=Object(we.a)(f);-1===a?t.push(e):t.splice(a,1),E(t)}},B=function(e){return r.a.createElement(We.a,{className:u.paper},r.a.createElement(Ie.a,{dense:!0,component:"div",role:"list"},e.map(function(e){var a="transfer-list-item-".concat(e._id,"-label");return r.a.createElement(Ae.a,{key:e,role:"listitem",button:!0,onClick:M(e)},r.a.createElement(Pe.a,null,r.a.createElement(Fe.a,{checked:-1!==f.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})),r.a.createElement(xe.a,{id:a,primary:e.name}))}),r.a.createElement(Ae.a,null)))};return r.a.createElement("div",null,r.a.createElement(ee.a,{fullScreen:!0,open:n,TransitionComponent:Ke},r.a.createElement(y.a,{className:u.appBar,style:{background:"linear-gradient(to right bottom, #03FFE1, #0B98FF)"}},r.a.createElement(v.a,null,r.a.createElement(O.a,{onClick:function(){k(o),j(Me.a.differenceBy(a,o,"_id")),A(t),P(""),c()},edge:"start",color:"inherit","aria-label":"Close"},r.a.createElement(Le.a,null)),r.a.createElement(s.a,{variant:"h6",className:u.title},"Deck Builder"),r.a.createElement("form",{onSubmit:function(e){return function(e,a,n){if(e.preventDefault(),""===a)return P("You must give the deck a name");if(0===n.length)return P("You must add at least 1 card, even if a 1 card deck seems stupid");var r={name:a,cards:n,_id:l};G(i(r)),k(o),m("Deck ".concat(r.name," added"),{variant:"info"}),j(Me.a.differenceBy(n,o,"_id")),A(t),P(""),c()}(e,x,C)}},r.a.createElement(R.a,{type:"submit",color:"inherit"},"Save")))),r.a.createElement("br",null),r.a.createElement(pe.a,{container:!0,spacing:2,justify:"center",alignItems:"center",className:u.root},r.a.createElement(pe.a,{item:!0,xs:12,md:8},r.a.createElement(s.a,{align:"center",variant:"h6",color:"error"},L)),r.a.createElement(pe.a,{item:!0,xs:10,md:8},r.a.createElement(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"deckName",label:"Deck Name",name:"name",autoFocus:!0,value:x,onChange:function(e){return A(e.target.value)}})),r.a.createElement(pe.a,{item:!0,md:5,xs:10},"Cards",B(D)),r.a.createElement(pe.a,{item:!0},r.a.createElement(pe.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(R.a,{variant:"outlined",size:"small",className:u.button,onClick:function(){k(C.concat(D)),j([])},disabled:0===D.length,"aria-label":"move all right"},"\u226b"),r.a.createElement(R.a,{variant:"outlined",size:"small",className:u.button,onClick:function(){k(C.concat(F)),j(ze(D,F)),E(ze(f,F))},disabled:0===F.length,"aria-label":"move selected right"},">"),r.a.createElement(R.a,{variant:"outlined",size:"small",className:u.button,onClick:function(){j(D.concat(W)),k(ze(C,W)),E(ze(f,W))},disabled:0===W.length,"aria-label":"move selected left"},"<"),r.a.createElement(R.a,{variant:"outlined",size:"small",className:u.button,onClick:function(){j(D.concat(C)),k([])},disabled:0===C.length,"aria-label":"move all left"},"\u226a"))),r.a.createElement(pe.a,{item:!0,md:5,xs:10},"Deck",B(C)))))}),Ve=Object(u.a)({card:{maxWidth:345},media:{height:200}});var Je=function(e){var a=Ve,t=r.a.useState(!1),n=Object(g.a)(t,2),c=n[0],o=n[1],i=r.a.useState(!1),l=Object(g.a)(i,2),u=l[0],m=l[1],d=(Object(N.c)(),r.a.useState(!1)),p=Object(g.a)(d,2),f=p[0],E=p[1];return r.a.createElement("div",null,r.a.createElement(K.a,{className:a.card},r.a.createElement(q.a,null,r.a.createElement(s.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement(s.a,{variant:"body2",color:"textSecondary",component:"p"},"Cards: ",e.cards.length)),r.a.createElement(z.a,null,r.a.createElement(R.a,{size:"small",color:"primary",onClick:function(e){e.preventDefault(),E(!0)}},"Edit"),r.a.createElement(R.a,{size:"small",color:"primary",onClick:function(a){console.log(e),a.preventDefault(),m(!0)}},"Delete"),r.a.createElement(O.a,{className:Object(ke.a)(a.expand,Object(b.a)({},a.expandOpen,c)),onClick:function(){o(!c)},"aria-expanded":c,"aria-label":"Show more"},r.a.createElement(Ce.a,null))),r.a.createElement(Se.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(q.a,null,e.cards.map(function(e){return r.a.createElement(pe.a,{key:e._id,item:!0,xs:12},r.a.createElement(s.a,{variant:"body2"},e.name))})))),r.a.createElement(se,{open:u,closeDialog:function(){m(!1)},delete:Te,item:e,name:e.name}),r.a.createElement(He,{currentCards:e.cards,cards:e,open:f,action:Ne,_id:e._id,currentName:e.name,closeDialog:function(){E(!1)}}))},Xe=(t(356),Object(u.a)(function(e){return{progress:{margin:e.spacing(2)}}})),$e=Object(L.g)(function(e){var a=Xe;console.log(e.router);var t="";if(e.router.location.search){var n=e.router.location.search;t=new URLSearchParams(n).get("search")}console.log(t);var c=Object(N.d)(function(e){return e.decks.loading}),o=r.a.useState(t),i=Object(g.a)(o,2),l=i[0],u=i[1],m=Object(N.d)(function(e){return e.decks.items.filter(function(e){return e.name.toLowerCase().includes(l.toLowerCase())})}),d=(Object(N.d)(function(e){return e.cards.items}),Object(N.d)(function(e){return e.decks.errors}),Object(N.c)());return r.a.useEffect(function(){d(function(e){e({type:"SET_LOADING_DECKS"}),x.a.get("/decks").then(function(a){e({type:"GET_DECKS",payload:a.data})}).catch(function(a){e({type:"SET_DECKS_ERRORS",payload:a.response.data.error})})}),d(H())},[]),r.a.useEffect(function(){""===l?e.history.push("/decks"):e.history.push("/decks?search=".concat(l))},[l]),r.a.createElement(pe.a,{container:!0,direction:"row",spacing:2},r.a.createElement(pe.a,{item:!0,xs:4,md:2},r.a.createElement(s.a,{variant:"h5"},"My Decks")),r.a.createElement(pe.a,{item:!0,xs:8,md:10},r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(Z.a,{id:"standard-name",label:"Search",fullWidth:!0,variant:"outlined",value:l,onChange:function(e){return u(e.target.value)},className:a.textField,margin:"dense"}))),c&&!m.length&&r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(fe.a,{className:a.progress})),!!m.length&&m.map(function(e){return r.a.createElement(pe.a,{key:e._id,item:!0,md:3,xs:12},r.a.createElement(Je,e))}),!m.length&&!c&&!l.length&&r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(s.a,{align:"center",variant:"h5"},"You have no decks in your collection. Add one!")),!m.length&&!c&&!!l.length&&r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(s.a,{align:"center",variant:"h5"},"No decks were found")))}),Qe=Object(u.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),color:"red"},rightIcon:{marginLeft:e.spacing(1)},button:{background:"linear-gradient(to right bottom, #03FFE1, #0B98FF)",color:"white"}}}),Ze=function(e){var a=Qe(),t=Object(N.c)(),n=r.a.useState(!1),c=Object(g.a)(n,2),o=c[0],i=c[1],l=[];console.log(l),r.a.useEffect(function(){t(H())},[]);var s=function(){var e=Object(Q.a)($.a.mark(function e(a){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t(H());case 3:l=e.sent,i(!0),console.log(o);case 6:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{className:a.container,autoComplete:"off"},r.a.createElement(pe.a,{container:!0,direction:"row",spacing:1},r.a.createElement(pe.a,{item:!0,md:10}),r.a.createElement(pe.a,{item:!0,md:2,xs:12},r.a.createElement(R.a,{variant:"contained",onClick:s,className:a.button,fullWidth:!0,type:"submit",color:"primary"},"Create Deck",r.a.createElement(ye.a,{className:a.rightIcon},"Send"))))),r.a.createElement("br",null),r.a.createElement(He,{currentCards:[],cards:l,open:o,action:Re,_id:"",currentName:"",closeDialog:function(){i(!1)}}))},ea=function(e){return console.log(e),r.a.createElement("div",null,r.a.createElement(Ze,null),r.a.createElement(De.a,null),r.a.createElement("br",null),r.a.createElement($e,{router:e}))},aa=t(180),ta=t(161),na=t.n(ta),ra=t(421),ca=t(270),oa=Object(ra.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#0873BF"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},buttonProgress:{position:"absolute",top:"55%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:e.spacing(1),position:"relative"}}});var ia={login:A},la=Object(N.b)(function(e){return{user:e.user,UI:e.UI,errors:e.UI.errors}},ia)(function(e){var a=oa(),t=r.a.useState(""),n=Object(g.a)(t,2),c=n[0],o=n[1],i=r.a.useState(""),u=Object(g.a)(i,2),p=u[0],f=u[1],E=Object(N.d)(function(e){return e.UI.loading});return r.a.createElement(m.a,{component:"main",maxWidth:"xs"},r.a.createElement(l.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(aa.a,{className:a.avatar},r.a.createElement(na.a,null)),r.a.createElement(s.a,{component:"h1",variant:"h5"},"Login"),r.a.createElement("form",{className:a.form,onSubmit:function(a){a.preventDefault();var t={username:c,password:p};console.log(t),e.login(t,e.history)}},r.a.createElement(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,error:e.errors,value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:e.errors,value:p,onChange:function(e){return f(e.target.value)}}),e.errors&&r.a.createElement(pe.a,{container:!0,justify:"center"},r.a.createElement(pe.a,{item:!0},r.a.createElement(s.a,{variant:"body2",color:"error"},e.errors.error))),r.a.createElement("div",{className:a.wrapper},r.a.createElement(R.a,{className:a.submit,type:"submit",fullWidth:!0,disabled:E,variant:"contained",color:"primary"},"Login"),E&&r.a.createElement(ca.a,{size:24,className:a.buttonProgress})),r.a.createElement(pe.a,{container:!0,justify:"center"},r.a.createElement(pe.a,{item:!0,align:"center"},r.a.createElement(d.a,{component:T.b,to:"/register",variant:"body2"},"Don't have an account? Register now!"))))))}),sa=Object(u.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#0873BF"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},buttonProgress:{position:"absolute",top:"55%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:e.spacing(1),position:"relative"}}});var ua={register:function(e,a){return function(t){t({type:"LOADING_UI"}),x.a.post("/register",{username:e.username,realName:e.realname,password:e.password,passwordConfirm:e.confirmPassword}).then(function(){return!0}).then(function(){t({type:"STOP_LOADING_UI"}),t({type:"CLEAR_ERRORS"}),a.push("/login")}).catch(function(e){t({type:"STOP_LOADING_UI"}),console.log("error bruh"),console.log(e.response),t({type:"SET_ERRORS",payload:e.response.data})})}},login:A},ma=Object(N.b)(function(e){return{errors:e.UI.errors}},ua)(function(e){var a=sa(),t=Object(n.useState)(""),c=Object(g.a)(t,2),o=c[0],i=c[1],u=Object(n.useState)(""),p=Object(g.a)(u,2),f=p[0],E=p[1],b=Object(n.useState)(""),h=Object(g.a)(b,2),y=h[0],v=h[1],O=Object(n.useState)(""),D=Object(g.a)(O,2),j=D[0],S=D[1],_=Object(n.useState)(!1),C=Object(g.a)(_,2),k=C[0],w=C[1],x=Object(n.useState)(!1),A=Object(g.a)(x,2),I=A[0],U=A[1],L=Object(n.useState)(!1),P=Object(g.a)(L,2),F=P[0],W=P[1],G=Object(n.useState)(!1),M=Object(g.a)(G,2),B=M[0],K=M[1],z=Object(n.useState)(!1),q=Object(g.a)(z,2),Y=q[0],H=q[1],V=Object(N.d)(function(e){return e.UI.loading}),J=function(){var a=Object(Q.a)($.a.mark(function a(t){var n;return $.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),w(!o),U(!f),W(!y),K(!j),y===j){a.next=9;break}return a.abrupt("return",H(!0));case 9:o&&y&&f&&j&&(n={username:o,realname:f,password:y,confirmPassword:j},e.register(n,e.history));case 10:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(m.a,{component:"main",maxWidth:"xs"},r.a.createElement(l.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(aa.a,{className:a.avatar},r.a.createElement(na.a,null)),r.a.createElement(s.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{onSubmit:J,className:a.form,noValidate:!0},r.a.createElement(pe.a,{container:!0,spacing:2},r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(Z.a,{name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0,helperText:k?"Fill in this field":"",error:k||e.errors,value:o,onChange:function(e){return i(e.target.value)}})),r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",required:!0,fullWidth:!0,id:"realname",label:"Real Name",name:"realname",helperText:I?"Fill in this field":"",error:I||e.errors,value:f,onChange:function(e){return E(e.target.value)}})),r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",helperText:F?"Fill in this field":"",error:e.errors||F||Y,value:y,onChange:function(e){return v(e.target.value)}})),r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",required:!0,fullWidth:!0,name:"passwordConfirm",label:"Confirm Password",type:"password",helperText:B?"Fill in this field":Y?"Passwords don't match":"",error:e.errors||B||Y,id:"passwordConfirm",value:j,onChange:function(e){return S(e.target.value)}}))),e.errors&&r.a.createElement(pe.a,{container:!0,justify:"center",spacing:5},r.a.createElement(pe.a,{item:!0},r.a.createElement(s.a,{variant:"body2",color:"error"},e.errors.usernameExistsError)),r.a.createElement(pe.a,{item:!0},r.a.createElement(s.a,{variant:"body2",color:"error"},e.errors.error))),r.a.createElement("div",{className:a.wrapper},r.a.createElement(R.a,{type:"submit",fullWidth:!0,disabled:V,variant:"contained",color:"primary",className:a.submit},"Register"),V&&r.a.createElement(ca.a,{size:24,className:a.buttonProgress})),r.a.createElement(pe.a,{container:!0,justify:"center"},r.a.createElement(pe.a,{item:!0},r.a.createElement(d.a,{component:T.b,to:"/login",variant:"body2"},"Already have an account? Login now"))))))}),da=t(105),pa=t.n(da),fa=function(e){return function(a){x.a.delete("/admin/users/delete/".concat(e)).then(function(){a({type:"DELETE_USER",payload:e})}).catch(function(e){console.log(e.response.data)})}},Ea=function(e){return function(a){x.a.delete("/admin/cards/delete/".concat(e)).then(function(){a({type:"ADMIN_DELETE_CARD",payload:e}),a({type:"DELETE_CARD",payload:e})}).catch(function(e){console.log(e.response.data)})}},ga=function(e){return function(a){x.a.delete("/admin/decks/delete/".concat(e)).then(function(){a({type:"ADMIN_DELETE_DECK",payload:e}),a({type:"DELETE_DECK",payload:e}),a({type:"CLEAR_ERRORS"})}).catch(function(e){a({type:"SET_ERRORS",payload:e.response.data})})}},ba=function(e){return function(a){console.log(e),x.a.put("/admin/users/update/".concat(e._id),{username:e.username,realName:e.realName,userType:e.userType}).then(function(t){a({type:"UPDATE_USER",payload:e})}).catch(function(e){console.log(e.response.data)})}},ha=function(e){return function(a){console.log(e),x.a.put("/admin/cards/update/".concat(e._id),{mana:e.mana,name:e.name,description:e.description}).then(function(t){a({type:"ADMIN_UPDATE_CARD",payload:e}),a({type:"UPDATE_CARD",payload:e})}).catch(function(e){console.log(e.response.data)})}},ya=function(e){return function(a){console.log(e),x.a.put("/admin/decks/update/".concat(e._id),{name:e.name,cards:e.cards}).then(function(t){a({type:"ADMIN_UPDATE_DECK",payload:e}),a({type:"UPDATE_DECK",payload:e})}).catch(function(e){console.log(e.response.data)})}},va=t(220),Oa=t(219);function Da(e){var a=r.a.useState(e.user.username),t=Object(g.a)(a,2),n=t[0],c=t[1],o=r.a.useState(e.user.realName),i=Object(g.a)(o,2),l=i[0],u=i[1],m=r.a.useState(e.user.userType),d=Object(g.a)(m,2),p=d[0],f=d[1],E=r.a.useState(null),b=Object(g.a)(E,2),h=b[0],y=b[1],v=Object(N.c)(),O=Object(N.d)(function(e){return e.user.user});function j(){c(e.user.username),u(e.user.realName),f(e.user.userType),y(null),e.closeDialog()}r.a.useEffect(function(){c(e.user.username),u(e.user.realName),f(e.user.userType)},[e]);var S=function(){var a=Object(Q.a)($.a.mark(function a(t){var r;return $.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("default"!==p||O.username!==e.user.username){a.next=4;break}return a.abrupt("return",y("You can't remove yourself from administrative privileges"));case 4:if(n!==e.user.username||l!==e.user.realName||p!==e.user.userType){a.next=9;break}y(null),e.closeDialog(),a.next=16;break;case 9:return console.log(e.user._id),t.preventDefault(),r={_id:e.user._id,username:n,realName:l,userType:p},y(null),a.next=15,v(e.updateUser(r));case 15:e.closeDialog();case 16:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(ee.a,{open:e.open,onClose:j,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Edit user: ",e.editType),r.a.createElement(te.a,null,r.a.createElement(s.a,{variant:"body2",align:"center",color:"error"},h),r.a.createElement("br",null),r.a.createElement(Z.a,{autoFocus:!0,id:"standard",label:"Username",value:n,onChange:function(e){return c(e.target.value)},type:"text",fullWidth:!0,variant:"outlined",required:!0,InputLabelProps:{shrink:!0},margin:"dense"}),r.a.createElement(Z.a,{variant:"outlined",value:l,margin:"dense",id:"name",label:"Name",type:"text",onChange:function(e){return u(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0}),r.a.createElement(va.a,{value:p,onChange:function(e){return f(e.target.value)},input:r.a.createElement(Oa.a,{labelWidth:"Usertype",name:"Usertype",margin:"dense",id:"outlined-simple",fullWidth:!0})},r.a.createElement(D.a,{value:"admin"},"Admin"),r.a.createElement(D.a,{value:"default"},"Default"))),r.a.createElement(ae.a,null,r.a.createElement(R.a,{onClick:function(e){return S(e)},color:"primary"},"Update"),r.a.createElement(R.a,{onClick:j,color:"primary"},"Cancel"))))}function ja(e){Object(N.c)();var a=r.a.useState(!1),t=Object(g.a)(a,2),n=t[0],c=t[1],o=r.a.useState({}),i=Object(g.a)(o,2),l=i[0],s=i[1],u=r.a.useState(!1),m=Object(g.a)(u,2),d=m[0],p=m[1],f=Object(N.d)(function(e){return e.user.user}),E=function(){var e=Object(Q.a)($.a.mark(function e(a,t){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),s(t),c(!0);case 3:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(pa.a,{title:"Users",columns:[{title:"Username",field:"username"},{title:"Real Name",field:"realName"},{title:"User Type",field:"userType"},{title:"Registered",field:"registerDate"}],data:e.users,actions:[{icon:"delete",tooltip:"Delete User",onClick:function(e,a){if(f.username===a.username)return alert("You can't delete yourself");!function(e,a){e.preventDefault(),s(a),p(!0)}(e,a)}},{icon:"edit",tooltip:"Edit User",onClick:function(e,a){E(e,a)}}]}),r.a.createElement(Da,{open:n,user:l,closeDialog:function(){c(!1)},updateUser:ba,editType:l.username}),r.a.createElement(se,{open:d,closeDialog:function(){p(!1)},delete:fa,item:l,name:l.username}))}function Sa(e){Object(N.c)();var a=r.a.useState(!1),t=Object(g.a)(a,2),n=t[0],c=t[1],o=r.a.useState({}),i=Object(g.a)(o,2),l=i[0],s=i[1],u=r.a.useState(!1),m=Object(g.a)(u,2),d=m[0],p=m[1],f=function(){var e=Object(Q.a)($.a.mark(function e(a,t){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),s(t),c(!0);case 3:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(pa.a,{title:"Cards",columns:[{title:"Card Name",field:"name"},{title:"Description",field:"description"},{title:"Mana",field:"mana"},{title:"User",field:"user.username"}],data:e.cards,actions:[{icon:"delete",tooltip:"Delete User",onClick:function(e,a){!function(e,a){e.preventDefault(),s(a),p(!0)}(e,a)}},{icon:"edit",tooltip:"Edit User",onClick:function(e,a){f(e,a)}}]}),r.a.createElement(re,{open:n,card:l,closeDialog:function(){c(!1)},updateCard:ha,editType:l.name}),r.a.createElement(se,{open:d,closeDialog:function(){p(!1)},delete:Ea,item:l,name:l.name}))}function _a(e){var a=r.a.useState(!1),t=Object(g.a)(a,2),n=t[0],c=t[1],o=r.a.useState({}),i=Object(g.a)(o,2),l=i[0],s=i[1],u=r.a.useState(!1),m=Object(g.a)(u,2),d=m[0],p=m[1],f=function(){var a=Object(Q.a)($.a.mark(function a(t,n){return $.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),s(n),console.log(n),console.log(e.cards),c(!0);case 5:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(pa.a,{title:"Decks",columns:[{title:"Deck Name",field:"name"},{title:"Cards",field:"cards.length"},{title:"User",field:"user.username"},{title:"Registered",field:"registerDate"}],data:e.decks,actions:[{icon:"delete",tooltip:"Delete User",onClick:function(e,a){!function(e,a){e.preventDefault(),s(a),p(!0)}(e,a)}},{icon:"edit",tooltip:"Edit User",onClick:function(e,a){f(e,a)}}]}),r.a.createElement(He,{currentCards:l.cards?l.cards:[],cards:e.cards,open:n,action:ya,_id:l._id,currentName:l.name,closeDialog:function(){c(!1)}}),r.a.createElement(se,{open:d,closeDialog:function(){p(!1)},delete:ga,item:l,name:l.name}))}var Ca,ka=function(e){var a=Object(N.c)(),t=Object(N.d)(function(e){return e.admin.users}),n=Object(N.d)(function(e){return e.admin.cards}),c=Object(N.d)(function(e){return e.admin.decks});return r.a.useEffect(function(){a(function(e){x.a.get("/admin/users").then(function(a){console.log(a.data),e({type:"GET_USERS",payload:a.data})})}),a(function(e){x.a.get("/admin/cards").then(function(a){console.log(a.data),e({type:"GET_ADMIN_CARDS",payload:a.data})})}),a(function(e){x.a.get("/admin/decks").then(function(a){console.log(a.data),e({type:"GET_ADMIN_DECKS",payload:a.data})})})},[]),r.a.createElement("div",null,r.a.createElement(De.a,null),r.a.createElement("br",null),r.a.createElement(pe.a,{container:!0,direction:"row",spacing:2},r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(ja,{users:t})),r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(Sa,{cards:n})),r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(_a,{decks:c,cards:n}))))},Ra=t(305),Ta=t.n(Ra),Na=t(289),wa=function(){return r.a.createElement(pe.a,{container:!0,direction:"row",alignItems:"center",spacing:2},r.a.createElement(pe.a,{item:!0,xs:12}),r.a.createElement(pe.a,{item:!0,xs:12}),r.a.createElement(pe.a,{item:!0,xs:12}),r.a.createElement(Na.a,{xsDown:!0},r.a.createElement(pe.a,{item:!0,xs:4},r.a.createElement("img",{src:Ta.a,alt:"404card.png"}))),r.a.createElement(pe.a,{item:!0,xs:12,md:8},r.a.createElement(s.a,{variant:"h2",align:"center"},"404: Page not found!"),r.a.createElement("br",null),r.a.createElement(s.a,{variant:"h5",align:"center"},"We are sorry to have to use this spell, but the page you are looking for doesn't exist!")))},xa=Object(N.b)(function(e){return{authenticated:e.user.authenticated,user:e.user.user}})(function(e){var a=e.authenticated,t=e.user,n=function(e){var t=e.component,n=Object(B.a)(e,["component"]);return r.a.createElement(L.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(L.a,{to:"/login",component:la})}}))},c=function(e){var t=e.component,n=Object(B.a)(e,["component"]);return r.a.createElement(L.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(L.a,{to:"/cards",component:je}):r.a.createElement(t,e)}}))};return r.a.createElement("main",null,r.a.createElement(L.d,null,r.a.createElement(c,{path:"/login",component:la}),r.a.createElement(c,{path:"/register",component:ma}),r.a.createElement(n,{path:"/cards",component:je}),r.a.createElement(n,{path:"/decks",component:ea}),r.a.createElement(L.b,{exact:!0,path:"/",component:je}),r.a.createElement(function(e){var a=e.component,n=Object(B.a)(e,["component"]);return r.a.createElement(L.b,Object.assign({},n,{render:function(e){return"admin"===t.userType?r.a.createElement(a,e):r.a.createElement(L.a,{to:"/404",component:je})}}))},{path:"/admin",component:ka}),r.a.createElement(L.b,{path:"/404",component:wa}),r.a.createElement(L.a,{to:"/404"})))}),Aa=t(306),Ia=t.n(Aa),Ua=t(48),La=t(307),Pa={items:[],item:{},delete:null,loading:!1},Fa={items:[],filteredItems:[],item:{},loading:!1,errors:null},Wa={authenticated:!1,loading:!1,user:{}},Ga={loading:!1,errors:null},Ma={users:[],cards:[],decks:[],loading:!1,errors:null},Ba=Object(Ua.c)({cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_CARDS":return Object(be.a)({},e,{items:a.payload,loading:!1});case"ADD_CARD":return Object(be.a)({},e,{items:[a.payload].concat(Object(we.a)(e.items)),loading:!1});case"SET_CARDS_ERRORS":return Object(be.a)({},e,{errors:a.payload,loading:!1});case"DELETE_CARD":return Object(be.a)({},e,{items:e.items.filter(function(e){return e._id!==a.payload}),loading:!1});case"UPDATE_CARD":return Object(be.a)({},e,{items:e.items.map(function(e){return e._id===a.payload._id?Object(be.a)({},e,{mana:a.payload.mana,name:a.payload.name,description:a.payload.description}):e}),loading:!1});case"SET_LOADING_CARDS":return Object(be.a)({},e,{loading:!0});default:return e}},decks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_LOADING_DECKS":return Object(be.a)({},e,{loading:!0});case"SET_DECKS_ERRORS":return Object(be.a)({},e,{loading:!1,errors:a.payload});case"GET_DECKS":return Object(be.a)({},e,{items:a.payload,loading:!1});case"SEARCH_DECKS":return Object(be.a)({},e,{filteredItems:e.items.filter(function(e){return e.name===a.payload})});case"DELETE_DECK":return Object(be.a)({},e,{items:e.items.filter(function(e){return e._id!==a.payload}),loading:!1});case"ADD_DECK":return Object(be.a)({},e,{items:[a.payload].concat(Object(we.a)(e.items)),loading:!1,errors:null});case"UPDATE_DECK":return Object(be.a)({},e,{items:e.items.map(function(e){return e._id===a.payload._id?Object(be.a)({},e,{name:a.payload.name,cards:a.payload.cards}):e}),loading:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_AUTHENTICATED":return Object(be.a)({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return Wa;case"SET_USER":return{authenticated:!0,loading:!1,user:a.payload};case"LOADING_USER":return Object(be.a)({},e,{loading:!0});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ERRORS":return Object(be.a)({},e,{errors:a.payload});case"CLEAR_ERRORS":return Object(be.a)({},e,{errors:null,loading:!1});case"LOADING_UI":return Object(be.a)({},e,{loading:!0});case"STOP_LOADING_UI":return Object(be.a)({},e,{loading:!1});default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_LOADING_USERS":return Object(be.a)({},e,{loading:!0});case"GET_USERS":return Object(be.a)({},e,{users:a.payload,loading:!1});case"GET_ADMIN_CARDS":return Object(be.a)({},e,{cards:a.payload,loading:!1});case"GET_ADMIN_DECKS":return Object(be.a)({},e,{decks:a.payload,loading:!1});case"DELETE_USER":return Object(be.a)({},e,{users:e.users.filter(function(e){return e._id!==a.payload}),loading:!1});case"ADMIN_DELETE_CARD":return console.log(a.payload),Object(be.a)({},e,{cards:e.cards.filter(function(e){return e._id!==a.payload}),loading:!1});case"ADMIN_DELETE_DECK":return Object(be.a)({},e,{decks:e.decks.filter(function(e){return e._id!==a.payload}),loading:!1});case"UPDATE_USER":return Object(be.a)({},e,{users:e.users.map(function(e){return e._id===a.payload._id?Object(be.a)({},e,{username:a.payload.username,realName:a.payload.realName,userType:a.payload.userType}):e}),loading:!1});case"ADMIN_UPDATE_CARD":return Object(be.a)({},e,{cards:e.cards.map(function(e){return e._id===a.payload._id?Object(be.a)({},e,{mana:a.payload.mana,name:a.payload.name,description:a.payload.description}):e}),loading:!1});case"ADMIN_UPDATE_DECK":return Object(be.a)({},e,{decks:e.decks.map(function(e){return e._id===a.payload._id?Object(be.a)({},e,{name:a.payload.name,cards:a.payload.cards}):e}),loading:!1});default:return e}}}),Ka=[La.a],za=Object(Ua.e)(Ba,{},Object(Ua.d)(Ua.a.apply(void 0,Ka),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));if(localStorage.token&&(Ca=localStorage.token),x.a.defaults.baseURL="http://localhost:3000",delete x.a.defaults.headers.common.Authorization,Ca)if(1e3*Ia()(Ca).exp<Date.now())za.dispatch(I()),window.location.href="/login";else{var qa=JSON.parse(localStorage.user);za.dispatch({type:"SET_AUTHENTICATED"}),za.dispatch({type:"SET_USER",payload:qa}),x.a.defaults.headers.common.Authorization=Ca}var Ya=Object(u.a)(function(e){return{success:{backgroundColor:"yellow"},error:{backgroundColor:"blue"},warning:{backgroundColor:"green"},info:{backgroundColor:"#ffffff"}}});var Ha=function(){var e=Ya;return r.a.createElement(ie.SnackbarProvider,{maxSnack:1,classes:{variantInfo:e.info}},r.a.createElement(i.a,{theme:M},r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement(m.a,null,r.a.createElement(xa,null)),r.a.createElement(E,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N.a,{store:za},r.a.createElement(T.a,null,r.a.createElement(Ha,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[312,1,2]]]);
//# sourceMappingURL=main.254967b2.chunk.js.map